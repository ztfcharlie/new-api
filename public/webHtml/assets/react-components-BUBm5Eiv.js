import{r as p,R as y}from"./react-core-BDpsKymS.js";import{c as B}from"./semi-ui-DtUD36KQ.js";const U=e=>typeof e=="number"&&!isNaN(e),J=e=>typeof e=="string",N=e=>typeof e=="function",Z=e=>J(e)||N(e)?e:null,se=e=>p.isValidElement(e)||J(e)||N(e)||U(e);function Te(e,t,s){s===void 0&&(s=300);const{scrollHeight:c,style:u}=e;requestAnimationFrame(()=>{u.minHeight="initial",u.height=c+"px",u.transition=`all ${s}ms`,requestAnimationFrame(()=>{u.height="0",u.padding="0",u.margin="0",setTimeout(t,s)})})}function ee(e){let{enter:t,exit:s,appendPosition:c=!1,collapse:u=!0,collapseDuration:r=300}=e;return function(n){let{children:a,position:_,preventExitTransition:E,done:T,nodeRef:g,isIn:b}=n;const i=c?`${t}--${_}`:t,h=c?`${s}--${_}`:s,d=p.useRef(0);return p.useLayoutEffect(()=>{const o=g.current,l=i.split(" "),v=I=>{I.target===g.current&&(o.dispatchEvent(new Event("d")),o.removeEventListener("animationend",v),o.removeEventListener("animationcancel",v),d.current===0&&I.type!=="animationcancel"&&o.classList.remove(...l))};o.classList.add(...l),o.addEventListener("animationend",v),o.addEventListener("animationcancel",v)},[]),p.useEffect(()=>{const o=g.current,l=()=>{o.removeEventListener("animationend",l),u?Te(o,T,r):T()};b||(E?l():(d.current=1,o.className+=` ${h}`,o.addEventListener("animationend",l)))},[b]),y.createElement(y.Fragment,null,a)}}function ae(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const V={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const s=this.list.get(e).filter(c=>c!==t);return this.list.set(e,s),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const s=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(s)})}},Y=e=>{let{theme:t,type:s,...c}=e;return y.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...c})},ne={info:function(e){return y.createElement(Y,{...e},y.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return y.createElement(Y,{...e},y.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return y.createElement(Y,{...e},y.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return y.createElement(Y,{...e},y.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return y.createElement("div",{className:"Toastify__spinner"})}};function _e(e){const[,t]=p.useReducer(i=>i+1,0),[s,c]=p.useState([]),u=p.useRef(null),r=p.useRef(new Map).current,n=i=>s.indexOf(i)!==-1,a=p.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:n,getToast:i=>r.get(i)}).current;function _(i){let{containerId:h}=i;const{limit:d}=a.props;!d||h&&a.containerId!==h||(a.count-=a.queue.length,a.queue=[])}function E(i){c(h=>i==null?[]:h.filter(d=>d!==i))}function T(){const{toastContent:i,toastProps:h,staleId:d}=a.queue.shift();b(i,h,d)}function g(i,h){let{delay:d,staleId:o,...l}=h;if(!se(i)||function(k){return!u.current||a.props.enableMultiContainer&&k.containerId!==a.props.containerId||r.has(k.toastId)&&k.updateId==null}(l))return;const{toastId:v,updateId:I,data:f}=l,{props:m}=a,$=()=>E(v),D=I==null;D&&a.count++;const x={...m,style:m.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(l).filter(k=>{let[z,R]=k;return R!=null})),toastId:v,updateId:I,data:f,closeToast:$,isIn:!1,className:Z(l.className||m.toastClassName),bodyClassName:Z(l.bodyClassName||m.bodyClassName),progressClassName:Z(l.progressClassName||m.progressClassName),autoClose:!l.isLoading&&(A=l.autoClose,W=m.autoClose,A===!1||U(A)&&A>0?A:W),deleteToast(){const k=ae(r.get(v),"removed");r.delete(v),V.emit(4,k);const z=a.queue.length;if(a.count=v==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),z>0){const R=v==null?a.props.limit:1;if(z===1||R===1)a.displayedToast++,T();else{const q=R>z?z:R;a.displayedToast=q;for(let L=0;L<q;L++)T()}}else t()}};var A,W;x.iconOut=function(k){let{theme:z,type:R,isLoading:q,icon:L}=k,O=null;const F={theme:z,type:R};return L===!1||(N(L)?O=L(F):p.isValidElement(L)?O=p.cloneElement(L,F):J(L)||U(L)?O=L:q?O=ne.spinner():(K=>K in ne)(R)&&(O=ne[R](F))),O}(x),N(l.onOpen)&&(x.onOpen=l.onOpen),N(l.onClose)&&(x.onClose=l.onClose),x.closeButton=m.closeButton,l.closeButton===!1||se(l.closeButton)?x.closeButton=l.closeButton:l.closeButton===!0&&(x.closeButton=!se(m.closeButton)||m.closeButton);let H=i;p.isValidElement(i)&&!J(i.type)?H=p.cloneElement(i,{closeToast:$,toastProps:x,data:f}):N(i)&&(H=i({closeToast:$,toastProps:x,data:f})),m.limit&&m.limit>0&&a.count>m.limit&&D?a.queue.push({toastContent:H,toastProps:x,staleId:o}):U(d)?setTimeout(()=>{b(H,x,o)},d):b(H,x,o)}function b(i,h,d){const{toastId:o}=h;d&&r.delete(d);const l={content:i,props:h};r.set(o,l),c(v=>[...v,o].filter(I=>I!==d)),V.emit(4,ae(l,l.props.updateId==null?"added":"updated"))}return p.useEffect(()=>(a.containerId=e.containerId,V.cancelEmit(3).on(0,g).on(1,i=>u.current&&E(i)).on(5,_).emit(2,a),()=>{r.clear(),V.emit(3,a)}),[]),p.useEffect(()=>{a.props=e,a.isToastActive=n,a.displayedToast=s.length}),{getToastToRender:function(i){const h=new Map,d=Array.from(r.values());return e.newestOnTop&&d.reverse(),d.forEach(o=>{const{position:l}=o.props;h.has(l)||h.set(l,[]),h.get(l).push(o)}),Array.from(h,o=>i(o[0],o[1]))},containerRef:u,isToastActive:n}}function ie(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function re(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function xe(e){const[t,s]=p.useState(!1),[c,u]=p.useState(!1),r=p.useRef(null),n=p.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=p.useRef(e),{autoClose:_,pauseOnHover:E,closeToast:T,onClick:g,closeOnClick:b}=e;function i(f){if(e.draggable){f.nativeEvent.type==="touchstart"&&f.nativeEvent.preventDefault(),n.didMove=!1,document.addEventListener("mousemove",l),document.addEventListener("mouseup",v),document.addEventListener("touchmove",l),document.addEventListener("touchend",v);const m=r.current;n.canCloseOnClick=!0,n.canDrag=!0,n.boundingRect=m.getBoundingClientRect(),m.style.transition="",n.x=ie(f.nativeEvent),n.y=re(f.nativeEvent),e.draggableDirection==="x"?(n.start=n.x,n.removalDistance=m.offsetWidth*(e.draggablePercent/100)):(n.start=n.y,n.removalDistance=m.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function h(f){if(n.boundingRect){const{top:m,bottom:$,left:D,right:x}=n.boundingRect;f.nativeEvent.type!=="touchend"&&e.pauseOnHover&&n.x>=D&&n.x<=x&&n.y>=m&&n.y<=$?o():d()}}function d(){s(!0)}function o(){s(!1)}function l(f){const m=r.current;n.canDrag&&m&&(n.didMove=!0,t&&o(),n.x=ie(f),n.y=re(f),n.delta=e.draggableDirection==="x"?n.x-n.start:n.y-n.start,n.start!==n.x&&(n.canCloseOnClick=!1),m.style.transform=`translate${e.draggableDirection}(${n.delta}px)`,m.style.opacity=""+(1-Math.abs(n.delta/n.removalDistance)))}function v(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",v);const f=r.current;if(n.canDrag&&n.didMove&&f){if(n.canDrag=!1,Math.abs(n.delta)>n.removalDistance)return u(!0),void e.closeToast();f.style.transition="transform 0.2s, opacity 0.2s",f.style.transform=`translate${e.draggableDirection}(0)`,f.style.opacity="1"}}p.useEffect(()=>{a.current=e}),p.useEffect(()=>(r.current&&r.current.addEventListener("d",d,{once:!0}),N(e.onOpen)&&e.onOpen(p.isValidElement(e.children)&&e.children.props),()=>{const f=a.current;N(f.onClose)&&f.onClose(p.isValidElement(f.children)&&f.children.props)}),[]),p.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||o(),window.addEventListener("focus",d),window.addEventListener("blur",o)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",d),window.removeEventListener("blur",o))}),[e.pauseOnFocusLoss]);const I={onMouseDown:i,onTouchStart:i,onMouseUp:h,onTouchEnd:h};return _&&E&&(I.onMouseEnter=o,I.onMouseLeave=d),b&&(I.onClick=f=>{g&&g(f),n.canCloseOnClick&&T()}),{playToast:d,pauseToast:o,isRunning:t,preventExitTransition:c,toastRef:r,eventHandlers:I}}function Ee(e){let{closeToast:t,theme:s,ariaLabel:c="close"}=e;return y.createElement("button",{className:`Toastify__close-button Toastify__close-button--${s}`,type:"button",onClick:u=>{u.stopPropagation(),t(u)},"aria-label":c},y.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},y.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Ce(e){let{delay:t,isRunning:s,closeToast:c,type:u="default",hide:r,className:n,style:a,controlledProgress:_,progress:E,rtl:T,isIn:g,theme:b}=e;const i=r||_&&E===0,h={...a,animationDuration:`${t}ms`,animationPlayState:s?"running":"paused",opacity:i?0:1};_&&(h.transform=`scaleX(${E})`);const d=B("Toastify__progress-bar",_?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${u}`,{"Toastify__progress-bar--rtl":T}),o=N(n)?n({rtl:T,type:u,defaultClassName:d}):B(d,n);return y.createElement("div",{role:"progressbar","aria-hidden":i?"true":"false","aria-label":"notification timer",className:o,style:h,[_&&E>=1?"onTransitionEnd":"onAnimationEnd"]:_&&E<1?null:()=>{g&&c()}})}const be=e=>{const{isRunning:t,preventExitTransition:s,toastRef:c,eventHandlers:u}=xe(e),{closeButton:r,children:n,autoClose:a,onClick:_,type:E,hideProgressBar:T,closeToast:g,transition:b,position:i,className:h,style:d,bodyClassName:o,bodyStyle:l,progressClassName:v,progressStyle:I,updateId:f,role:m,progress:$,rtl:D,toastId:x,deleteToast:A,isIn:W,isLoading:H,iconOut:k,closeOnClick:z,theme:R}=e,q=B("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":D},{"Toastify__toast--close-on-click":z}),L=N(h)?h({rtl:D,position:i,type:E,defaultClassName:q}):B(q,h),O=!!$||!a,F={closeToast:g,type:E,theme:R};let K=null;return r===!1||(K=N(r)?r(F):p.isValidElement(r)?p.cloneElement(r,F):Ee(F)),y.createElement(b,{isIn:W,done:A,position:i,preventExitTransition:s,nodeRef:c},y.createElement("div",{id:x,onClick:_,className:L,...u,style:d,ref:c},y.createElement("div",{...W&&{role:m},className:N(o)?o({type:E}):B("Toastify__toast-body",o),style:l},k!=null&&y.createElement("div",{className:B("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},k),y.createElement("div",null,n)),K,y.createElement(Ce,{...f&&!O?{key:`pb-${f}`}:{},rtl:D,theme:R,delay:a,isRunning:t,isIn:W,closeToast:g,hide:T,type:E,style:I,className:v,controlledProgress:O,progress:$||0})))},te=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Ie=ee(te("bounce",!0));ee(te("slide",!0));ee(te("zoom"));ee(te("flip"));const le=p.forwardRef((e,t)=>{const{getToastToRender:s,containerRef:c,isToastActive:u}=_e(e),{className:r,style:n,rtl:a,containerId:_}=e;function E(T){const g=B("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":a});return N(r)?r({position:T,rtl:a,defaultClassName:g}):B(g,Z(r))}return p.useEffect(()=>{t&&(t.current=c.current)},[]),y.createElement("div",{ref:c,className:"Toastify",id:_},s((T,g)=>{const b=g.length?{...n}:{...n,pointerEvents:"none"};return y.createElement("div",{className:E(T),style:b,key:`container-${T}`},g.map((i,h)=>{let{content:d,props:o}=i;return y.createElement(be,{...o,isIn:u(o.toastId),style:{...o.style,"--nth":h+1,"--len":g.length},key:`toast-${o.key}`},d)}))}))});le.displayName="ToastContainer",le.defaultProps={position:"top-right",transition:Ie,autoClose:5e3,closeButton:Ee,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let ce,oe=new Map,ue=[];V.on(2,e=>{ce=e.containerId||e,oe.set(ce,e),ue.forEach(t=>{V.emit(0,t.content,t.options)}),ue=[]}).on(3,e=>{oe.delete(e.containerId||e),oe.size===0&&V.off(0).off(1).off(5)});let de="",M={},P=[],w=[],he=0,Q=0,S=0,pe,fe,me,ye,ge,C,X,G,j;class ve{constructor(t){this.pos={x:t?t.x:0,y:t?t.y:0},this.vel={x:0,y:0},this.shrink=.97,this.size=2,this.resistance=1,this.gravity=0,this.flick=!1,this.alpha=1,this.fade=0,this.color=0}update(){this.vel.x*=this.resistance,this.vel.y*=this.resistance,this.vel.y+=this.gravity,this.pos.x+=this.vel.x,this.pos.y+=this.vel.y,this.size*=this.shrink,this.alpha-=this.fade}render(t){if(!this.exists())return;t.save(),t.globalCompositeOperation="lighter";let s=this.pos.x,c=this.pos.y,u=this.size/2,r=t.createRadialGradient(s,c,.1,s,c,u);r.addColorStop(.1,"rgba(255,255,255,"+this.alpha+")"),r.addColorStop(.8,"hsla("+this.color+", 100%, 50%, "+this.alpha+")"),r.addColorStop(1,"hsla("+this.color+", 100%, 50%, 0.1)"),t.fillStyle=r,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size:this.size,0,Math.PI*2,!0),t.closePath(),t.fill(),t.restore()}exists(){return this.alpha>=.1&&this.size>=1}}class Me extends ve{constructor(t){super({x:t,y:S}),this.explosionColor=0}explode(){for(let t=0;t<M.explode_debris_num;t++){let s=new ve(this.pos),c=Math.random()*Math.PI*2,u=Math.cos(Math.random()*Math.PI/2)*15;s.vel.x=Math.cos(c)*u,s.vel.y=Math.sin(c)*u,s.size=M.explode_particles_size,s.gravity=.2,s.resistance=.9+M.explode_particles_resistance*.01,s.shrink=Math.random()*.05+.95,s.flick=!0,s.color=this.explosionColor,P.push(s)}}render(t){if(!this.exists())return;t.save(),t.globalCompositeOperation="lighter";let s=this.pos.x,c=this.pos.y,u=this.size/2,r=t.createRadialGradient(s,c,.1,s,c,u);r.addColorStop(.1,"rgba(255, 255, 255 ,"+this.alpha+")"),r.addColorStop(1,"rgba(0, 0, 0, "+this.alpha+")"),t.fillStyle=r,t.beginPath(),t.arc(this.pos.x,this.pos.y,this.flick?Math.random()*this.size/2+this.size/2:this.size,0,Math.PI*2,!0),t.closePath(),t.fill(),t.restore()}}const we={init:function(e,t){!e||typeof e!="string"||document.getElementById(e)==null?console.log("id对象不存在"):(de=document.getElementById(e),M.frequency=t.frequency||200,M.launch_speed=t.launch_speed||12,M.launch_particles_size=t.launch_particles_size||0,M.explode_debris_num=Math.random()*10+(t.debris_num||150),M.explode_particles_resistance=t.explode_particles_resistance||5,M.explode_particles_size=t.explode_particles_resistance||10,Q=t.width||document.body.clientWidth+"px",S=t.height||document.body.clientHeight+"px",pe=t.top||"0px",fe=t.bottom||"0px",me=t.left||"0px",ye=t.right||"0px",ge=t.zIndex||100,he=M.explode_debris_num*10,C=document.createElement("canvas"),C.id="fireworksField",C.style.width=Q,C.style.height=S,C.style.position="absolute",C.style.top=pe,C.style.bottom=fe,C.style.left=me,C.style.right=ye,C.style.opacity=1,C.style.zIndex=ge,X=C.getContext("2d"),de.appendChild(C),G=setInterval(this.reload,M.frequency),j=setInterval(this.loop,50))},reload:function(){if(w.length<100){let e=new Me(Math.random()*Q);e.explosionColor=Math.floor(Math.random()*360/10)*10,e.vel.y=-1*M.launch_speed,e.vel.x=Math.random()*2-1,e.size=M.launch_particles_size,e.shrink=1.008,e.gravity=.005,w.push(e)}},loop:function(){Q!==window.innerWidth&&(C.width=Q=window.innerWidth),S!==window.innerHeight&&(C.height=S=window.innerHeight),X.fillStyle="rgba(0, 0, 0, 0.05)",X.clearRect(0,0,Q,S);let e=[];for(let s=0;s<w.length;s++){w[s].update(),w[s].render(X);let c=Math.sqrt(Math.pow(Q-w[s].pos.x,2)+Math.pow(S-w[s].pos.y,2)),u=w[s].pos.y<S*2/3?Math.random()*100<=1:!1;w[s].pos.y<S/5||w[s].vel.y>=0||c<50||u?w[s].explode():e.push(w[s])}w=e;let t=[];for(let s=0;s<P.length;s++)P[s].update(),P[s].exists()&&(P[s].render(X),t.push(P[s]));for(P=t;P.length>he;)P.shift()},start:function(){G&&clearInterval(G),j&&clearInterval(j),G=setInterval(this.reload,M.frequency),j=setInterval(this.loop,50)},stop:function(){clearInterval(G),setTimeout(function(){clearInterval(j)},2e4)}};export{we as f};
